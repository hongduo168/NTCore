<?xml version="1.0" encoding="utf-8"?>
<log4net debug="true">

  <!--按日期分割日志文件 一天一个-->
  <appender name="LogFileAppender" type="log4net.Appender.RollingFileAppender" >
    <filter type="log4net.Filter.LevelRangeFilter">
      <levelMin value="DEBUG" />
      <levelMax value="ERROR" />
    </filter>
    <!--是否续写-->
    <param name="AppendToFile" value="true" />
    <!--最小锁定模型以允许多个进程可以写入同一个文件-->
    <param name="LockingModel" value="log4net.Appender.FileAppender.MinimalLock" />
    <!--保存路径-->
    <param name="File" value="logs/" />
    <param name="DatePattern" value="yyyyMMdd&quot;.log&quot;" />
    <param name="StaticLogFileName" value="false" />
    <param name="RollingStyle" value="Composite" />

    <!--单个文件最大数量 好像只有在 按Size分割时有效-->
    <param name="MaximumFileSize" value="10240KB"/>
    <!--保留的log文件数量 超过此数量后 自动删除之前的   好像只有在 按Size分割时有效-->
    <param name="MaxSizeRollBackups" value="10" />

    <layout type="log4net.Layout.PatternLayout">
      <param name="ConversionPattern" value="%n-----------------------------------------%n%ntime:%d %nlevel:%level %nlogger:%c%nfile:%F line%L %ncontent:%m%n" />
    </layout>
    <!--%m(message):输出的日志消息，如ILog.Debug(…)输出的一条消息  
      %n(new line):换行  
      %d(datetime):输出当前语句运行的时刻  
      %r(run time):输出程序从运行到执行到当前语句时消耗的毫秒数  
      %t(thread id):当前语句所在的线程ID  
      %p(priority): 日志的当前优先级别，即DEBUG、INFO、WARN…等  
      %c(class):当前日志对象的名称，例如：  
      %f(file):输出语句所在的文件名。  
      %l(line)：输出语句所在的行号。-->
  </appender>

  <root>
    <level value="ALL" />
    <!--启用按日期分割-->
    <appender-ref ref="LogFileAppender" />
    <!--启用保存到数据库-->
  </root>
</log4net>

