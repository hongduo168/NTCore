
-----------------------------------------

time:2017-10-25 10:51:07,150 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/values  

-----------------------------------------

time:2017-10-25 10:51:08,104 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executing action method NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) with arguments ((null)) - ModelState is Valid

-----------------------------------------

time:2017-10-25 10:51:13,016 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Infrastructure
file:? line? 
content:Entity Framework Core 2.0.0-rtm-26452 initialized 'MainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=NTCore.WebFront 

-----------------------------------------

time:2017-10-25 10:51:13,070 
level:WARN 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:Query: '(from UserInfo <generated>_1 in DbSet<UserInfo> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results.

-----------------------------------------

time:2017-10-25 10:51:13,457 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Database.Command
file:? line? 
content:Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[auth_type], [u].[avatar], [u].[confirmed], [u].[create_time], [u].[creator_id], [u].[data_state], [u].[email], [u].[employee_number], [u].[hotel_id], [u].[mobile_number], [u].[nickname], [u].[password], [u].[update_time], [u].[updater_id], [u].[username]
FROM [user] AS [u]
WHERE [u].[data_state] = 1

-----------------------------------------

time:2017-10-25 10:51:13,636 
level:ERROR 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:An exception occurred in the database while iterating the results of a query for context type 'NTCore.DataAccess.MainContext'.
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)

-----------------------------------------

time:2017-10-25 10:51:13,719 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) in 5785.6543ms

-----------------------------------------

time:2017-10-25 10:51:13,777 
level:ERROR 
logger:Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware
file:? line? 
content:An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at NTCore.WebFront.Controllers.ValuesController.<GetAsync>d__3.MoveNext() in E:\Projects\NTPlatform\NTCore.WebFront\Controllers\ValuesController.cs:line 38
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()

-----------------------------------------

time:2017-10-25 10:51:13,958 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 6817.6851ms 500 text/html; charset=utf-8

-----------------------------------------

time:2017-10-25 10:51:13,980 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/favicon.ico  

-----------------------------------------

time:2017-10-25 10:51:14,011 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 23.244ms 404 

-----------------------------------------

time:2017-10-25 17:04:41,305 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/values  

-----------------------------------------

time:2017-10-25 17:04:41,738 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executing action method NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) with arguments ((null)) - ModelState is Valid

-----------------------------------------

time:2017-10-25 17:04:45,281 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Infrastructure
file:? line? 
content:Entity Framework Core 2.0.0-rtm-26452 initialized 'MainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=NTCore.WebFront 

-----------------------------------------

time:2017-10-25 17:04:45,334 
level:WARN 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:Query: '(from UserInfo <generated>_1 in DbSet<UserInfo> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results.

-----------------------------------------

time:2017-10-25 17:04:45,571 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Database.Command
file:? line? 
content:Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[auth_type], [u].[avatar], [u].[confirmed], [u].[create_time], [u].[creator_id], [u].[data_state], [u].[email], [u].[employee_number], [u].[hotel_id], [u].[mobile_number], [u].[nickname], [u].[password], [u].[update_time], [u].[updater_id], [u].[username]
FROM [user] AS [u]
WHERE [u].[data_state] = 1

-----------------------------------------

time:2017-10-25 17:04:45,667 
level:ERROR 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:An exception occurred in the database while iterating the results of a query for context type 'NTCore.DataAccess.MainContext'.
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)

-----------------------------------------

time:2017-10-25 17:04:45,741 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) in 4158.9292ms

-----------------------------------------

time:2017-10-25 17:04:45,800 
level:ERROR 
logger:Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware
file:? line? 
content:An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at NTCore.WebFront.Controllers.ValuesController.<GetAsync>d__3.MoveNext() in E:\Projects\NTPlatform\NTCore.WebFront\Controllers\ValuesController.cs:line 38
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()

-----------------------------------------

time:2017-10-25 17:04:45,976 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4657.3231ms 500 text/html; charset=utf-8

-----------------------------------------

time:2017-10-25 17:04:46,004 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/favicon.ico  

-----------------------------------------

time:2017-10-25 17:04:46,020 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 9.1826ms 404 

-----------------------------------------

time:2017-10-25 17:04:53,381 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assignroom  

-----------------------------------------

time:2017-10-25 17:04:53,392 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.8012ms 404 

-----------------------------------------

time:2017-10-25 17:04:57,632 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:04:57,651 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.4239ms 404 

-----------------------------------------

time:2017-10-25 17:05:09,400 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:05:09,415 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.6495ms 404 

-----------------------------------------

time:2017-10-25 17:05:10,301 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:05:10,316 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.9148ms 404 

-----------------------------------------

time:2017-10-25 17:05:14,856 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/assign-room  

-----------------------------------------

time:2017-10-25 17:05:14,865 
level:INFO 
logger:Microsoft.AspNetCore.Authorization.DefaultAuthorizationService
file:? line? 
content:Authorization failed for user: (null).

-----------------------------------------

time:2017-10-25 17:05:14,869 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.

-----------------------------------------

time:2017-10-25 17:05:14,876 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.ChallengeResult
file:? line? 
content:Executing ChallengeResult with authentication schemes ().

-----------------------------------------

time:2017-10-25 17:05:14,882 
level:INFO 
logger:Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
file:? line? 
content:AuthenticationScheme: AuthenticationScheme was challenged.

-----------------------------------------

time:2017-10-25 17:05:14,884 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.AssignRoomController.Get (NTCore.WebFront) in 24.3514ms

-----------------------------------------

time:2017-10-25 17:05:14,889 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 32.887ms 302 

-----------------------------------------

time:2017-10-25 17:05:14,896 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:05:14,916 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.351ms 404 

-----------------------------------------

time:2017-10-25 17:05:18,644 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/assign-room  

-----------------------------------------

time:2017-10-25 17:05:18,646 
level:INFO 
logger:Microsoft.AspNetCore.Authorization.DefaultAuthorizationService
file:? line? 
content:Authorization failed for user: (null).

-----------------------------------------

time:2017-10-25 17:05:18,648 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.

-----------------------------------------

time:2017-10-25 17:05:18,651 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.ChallengeResult
file:? line? 
content:Executing ChallengeResult with authentication schemes ().

-----------------------------------------

time:2017-10-25 17:05:18,653 
level:INFO 
logger:Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
file:? line? 
content:AuthenticationScheme: AuthenticationScheme was challenged.

-----------------------------------------

time:2017-10-25 17:05:18,656 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.AssignRoomController.Get (NTCore.WebFront) in 9.4662ms

-----------------------------------------

time:2017-10-25 17:05:18,660 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 14.6176ms 302 

-----------------------------------------

time:2017-10-25 17:05:18,667 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:05:18,679 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.2839ms 404 

-----------------------------------------

time:2017-10-25 17:05:22,998 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:05:23,008 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.9735ms 404 

-----------------------------------------

time:2017-10-25 17:05:23,421 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:05:23,435 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.9767ms 404 

-----------------------------------------

time:2017-10-25 17:05:33,780 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:33,794 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.2164ms 404 

-----------------------------------------

time:2017-10-25 17:05:34,342 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:34,354 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.4624ms 404 

-----------------------------------------

time:2017-10-25 17:05:34,527 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:34,538 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.7771ms 404 

-----------------------------------------

time:2017-10-25 17:05:34,663 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:34,672 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.976ms 404 

-----------------------------------------

time:2017-10-25 17:05:34,805 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:34,817 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.1041ms 404 

-----------------------------------------

time:2017-10-25 17:05:37,999 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:38,008 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.7258ms 404 

-----------------------------------------

time:2017-10-25 17:05:38,367 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:38,383 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 8.0713ms 404 

-----------------------------------------

time:2017-10-25 17:05:38,533 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:38,544 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.0249ms 404 

-----------------------------------------

time:2017-10-25 17:05:38,678 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:38,689 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.1137ms 404 

-----------------------------------------

time:2017-10-25 17:05:38,837 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:38,852 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.1397ms 404 

-----------------------------------------

time:2017-10-25 17:05:38,981 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:39,006 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 21.6952ms 404 

-----------------------------------------

time:2017-10-25 17:05:41,292 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/AssignRoom  

-----------------------------------------

time:2017-10-25 17:05:41,315 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.3113ms 404 

-----------------------------------------

time:2017-10-25 17:06:49,096 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:06:49,113 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.5208ms 404 

-----------------------------------------

time:2017-10-25 17:19:17,308 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/assign-room  

-----------------------------------------

time:2017-10-25 17:19:17,311 
level:INFO 
logger:Microsoft.AspNetCore.Authorization.DefaultAuthorizationService
file:? line? 
content:Authorization failed for user: (null).

-----------------------------------------

time:2017-10-25 17:19:17,313 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.

-----------------------------------------

time:2017-10-25 17:19:17,315 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.ChallengeResult
file:? line? 
content:Executing ChallengeResult with authentication schemes ().

-----------------------------------------

time:2017-10-25 17:19:17,318 
level:INFO 
logger:Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
file:? line? 
content:AuthenticationScheme: AuthenticationScheme was challenged.

-----------------------------------------

time:2017-10-25 17:19:17,321 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.AssignRoomController.Get (NTCore.WebFront) in 9.3112ms

-----------------------------------------

time:2017-10-25 17:19:17,327 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 15.5406ms 302 

-----------------------------------------

time:2017-10-25 17:19:17,334 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:19:17,346 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.2689ms 404 

-----------------------------------------

time:2017-10-25 17:25:46,004 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/values  

-----------------------------------------

time:2017-10-25 17:25:46,425 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executing action method NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) with arguments ((null)) - ModelState is Valid

-----------------------------------------

time:2017-10-25 17:25:51,416 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Infrastructure
file:? line? 
content:Entity Framework Core 2.0.0-rtm-26452 initialized 'MainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=NTCore.WebFront 

-----------------------------------------

time:2017-10-25 17:25:51,479 
level:WARN 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:Query: '(from UserInfo <generated>_1 in DbSet<UserInfo> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results.

-----------------------------------------

time:2017-10-25 17:25:51,714 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Database.Command
file:? line? 
content:Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[auth_type], [u].[avatar], [u].[confirmed], [u].[create_time], [u].[creator_id], [u].[data_state], [u].[email], [u].[employee_number], [u].[hotel_id], [u].[mobile_number], [u].[nickname], [u].[password], [u].[update_time], [u].[updater_id], [u].[username]
FROM [user] AS [u]
WHERE [u].[data_state] = 1

-----------------------------------------

time:2017-10-25 17:25:51,794 
level:ERROR 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:An exception occurred in the database while iterating the results of a query for context type 'NTCore.DataAccess.MainContext'.
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)

-----------------------------------------

time:2017-10-25 17:25:51,875 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) in 5588.0645ms

-----------------------------------------

time:2017-10-25 17:25:51,949 
level:ERROR 
logger:Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware
file:? line? 
content:An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at NTCore.WebFront.Controllers.ValuesController.<GetAsync>d__3.MoveNext() in E:\Projects\NTPlatform\NTCore.WebFront\Controllers\ValuesController.cs:line 38
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()

-----------------------------------------

time:2017-10-25 17:25:52,112 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 6111.8335ms 500 text/html; charset=utf-8

-----------------------------------------

time:2017-10-25 17:25:52,134 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/favicon.ico  

-----------------------------------------

time:2017-10-25 17:25:52,146 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 8.0165ms 404 

-----------------------------------------

time:2017-10-25 17:26:01,806 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/assign-room  

-----------------------------------------

time:2017-10-25 17:26:01,819 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.9905ms 404 

-----------------------------------------

time:2017-10-25 17:26:04,981 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/assign-room  

-----------------------------------------

time:2017-10-25 17:26:04,991 
level:INFO 
logger:Microsoft.AspNetCore.Authorization.DefaultAuthorizationService
file:? line? 
content:Authorization failed for user: (null).

-----------------------------------------

time:2017-10-25 17:26:04,994 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Authorization failed for the request at filter 'Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter'.

-----------------------------------------

time:2017-10-25 17:26:04,998 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.ChallengeResult
file:? line? 
content:Executing ChallengeResult with authentication schemes ().

-----------------------------------------

time:2017-10-25 17:26:05,003 
level:INFO 
logger:Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler
file:? line? 
content:AuthenticationScheme: AuthenticationScheme was challenged.

-----------------------------------------

time:2017-10-25 17:26:05,005 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.AssignRoomController.Get (NTCore.WebFront) in 19.2057ms

-----------------------------------------

time:2017-10-25 17:26:05,009 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 26.5261ms 302 

-----------------------------------------

time:2017-10-25 17:26:05,015 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:05,026 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 6.8404ms 404 

-----------------------------------------

time:2017-10-25 17:26:16,634 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:16,648 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.3511ms 404 

-----------------------------------------

time:2017-10-25 17:26:17,785 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:17,797 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.1983ms 404 

-----------------------------------------

time:2017-10-25 17:26:18,199 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:18,212 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.0066ms 404 

-----------------------------------------

time:2017-10-25 17:26:18,389 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:18,407 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 5.7718ms 404 

-----------------------------------------

time:2017-10-25 17:26:18,539 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:18,554 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.4918ms 404 

-----------------------------------------

time:2017-10-25 17:26:18,687 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:18,702 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.0656ms 404 

-----------------------------------------

time:2017-10-25 17:26:18,848 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:18,859 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.2501ms 404 

-----------------------------------------

time:2017-10-25 17:26:19,039 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:19,051 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.979ms 404 

-----------------------------------------

time:2017-10-25 17:26:19,343 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:19,355 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.173ms 404 

-----------------------------------------

time:2017-10-25 17:26:19,861 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:19,874 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.2531ms 404 

-----------------------------------------

time:2017-10-25 17:26:28,959 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:28,976 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.8113ms 404 

-----------------------------------------

time:2017-10-25 17:26:39,348 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:39,365 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.3726ms 404 

-----------------------------------------

time:2017-10-25 17:26:52,370 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:26:52,388 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.0072ms 404 

-----------------------------------------

time:2017-10-25 17:27:01,951 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:01,961 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.8959ms 404 

-----------------------------------------

time:2017-10-25 17:27:02,543 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:02,553 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.8792ms 404 

-----------------------------------------

time:2017-10-25 17:27:02,759 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:02,772 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.4993ms 404 

-----------------------------------------

time:2017-10-25 17:27:02,931 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:02,946 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 6.7262ms 404 

-----------------------------------------

time:2017-10-25 17:27:03,107 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:03,125 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 5.2476ms 404 

-----------------------------------------

time:2017-10-25 17:27:03,270 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:03,275 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 1.893ms 404 

-----------------------------------------

time:2017-10-25 17:27:03,600 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?ReturnUrl=%2Fassign-room  

-----------------------------------------

time:2017-10-25 17:27:03,618 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4.6654ms 404 

-----------------------------------------

time:2017-10-25 17:28:24,258 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/values  

-----------------------------------------

time:2017-10-25 17:28:24,650 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executing action method NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) with arguments ((null)) - ModelState is Valid

-----------------------------------------

time:2017-10-25 17:28:41,197 
level:WARN 
logger:Microsoft.AspNetCore.Server.Kestrel
file:? line? 
content:Heartbeat took longer than "00:00:01" at "10/25/2017 09:28:41 +00:00".

-----------------------------------------

time:2017-10-25 17:28:43,216 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Infrastructure
file:? line? 
content:Entity Framework Core 2.0.0-rtm-26452 initialized 'MainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=NTCore.WebFront 

-----------------------------------------

time:2017-10-25 17:28:43,267 
level:WARN 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:Query: '(from UserInfo <generated>_1 in DbSet<UserInfo> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results.

-----------------------------------------

time:2017-10-25 17:28:43,698 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Database.Command
file:? line? 
content:Executed DbCommand (98ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[auth_type], [u].[avatar], [u].[confirmed], [u].[create_time], [u].[creator_id], [u].[data_state], [u].[email], [u].[employee_number], [u].[hotel_id], [u].[mobile_number], [u].[nickname], [u].[password], [u].[update_time], [u].[updater_id], [u].[username]
FROM [user] AS [u]
WHERE [u].[data_state] = 1

-----------------------------------------

time:2017-10-25 17:28:43,794 
level:ERROR 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:An exception occurred in the database while iterating the results of a query for context type 'NTCore.DataAccess.MainContext'.
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)

-----------------------------------------

time:2017-10-25 17:28:43,871 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) in 19345.4607ms

-----------------------------------------

time:2017-10-25 17:28:43,937 
level:ERROR 
logger:Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware
file:? line? 
content:An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at NTCore.WebFront.Controllers.ValuesController.<GetAsync>d__3.MoveNext() in E:\Projects\NTPlatform\NTCore.WebFront\Controllers\ValuesController.cs:line 38
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()

-----------------------------------------

time:2017-10-25 17:28:44,103 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 19851.2411ms 500 text/html; charset=utf-8

-----------------------------------------

time:2017-10-25 17:28:44,142 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/favicon.ico  

-----------------------------------------

time:2017-10-25 17:28:44,151 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 6.9527ms 404 

-----------------------------------------

time:2017-10-25 17:29:57,354 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport  

-----------------------------------------

time:2017-10-25 17:29:57,367 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 5.1642ms 404 

-----------------------------------------

time:2017-10-25 17:30:05,515 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login  

-----------------------------------------

time:2017-10-25 17:30:05,528 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.0925ms 404 

-----------------------------------------

time:2017-10-25 17:31:43,081 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/api/values  

-----------------------------------------

time:2017-10-25 17:31:43,481 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executing action method NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) with arguments ((null)) - ModelState is Valid

-----------------------------------------

time:2017-10-25 17:31:46,722 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Infrastructure
file:? line? 
content:Entity Framework Core 2.0.0-rtm-26452 initialized 'MainContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=NTCore.WebFront 

-----------------------------------------

time:2017-10-25 17:31:46,774 
level:WARN 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:Query: '(from UserInfo <generated>_1 in DbSet<UserInfo> select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results.

-----------------------------------------

time:2017-10-25 17:31:46,982 
level:INFO 
logger:Microsoft.EntityFrameworkCore.Database.Command
file:? line? 
content:Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [u].[id], [u].[auth_type], [u].[avatar], [u].[confirmed], [u].[create_time], [u].[creator_id], [u].[data_state], [u].[email], [u].[employee_number], [u].[hotel_id], [u].[mobile_number], [u].[nickname], [u].[password], [u].[update_time], [u].[updater_id], [u].[username]
FROM [user] AS [u]
WHERE [u].[data_state] = 1

-----------------------------------------

time:2017-10-25 17:31:47,063 
level:ERROR 
logger:Microsoft.EntityFrameworkCore.Query
file:? line? 
content:An exception occurred in the database while iterating the results of a query for context type 'NTCore.DataAccess.MainContext'.
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)

-----------------------------------------

time:2017-10-25 17:31:47,139 
level:INFO 
logger:Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker
file:? line? 
content:Executed action NTCore.WebFront.Controllers.ValuesController.GetAsync (NTCore.WebFront) in 3791.9809ms

-----------------------------------------

time:2017-10-25 17:31:47,191 
level:ERROR 
logger:Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware
file:? line? 
content:An unhandled exception has occurred while executing the request
System.InvalidCastException: Unable to cast object of type 'System.Byte' to type 'System.Int32'.
   at lambda_method(Closure , Object[] )
   at Microsoft.EntityFrameworkCore.Storage.Internal.UntypedRelationalValueBufferFactory.Create(DbDataReader dataReader)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure , QueryContext )
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass17_0`1.<CompileQueryCore>b__0(QueryContext qc)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at System.Linq.Queryable.FirstOrDefault[TSource](IQueryable`1 source)
   at NTCore.WebFront.Controllers.ValuesController.<GetAsync>d__3.MoveNext() in E:\Projects\NTPlatform\NTCore.WebFront\Controllers\ValuesController.cs:line 38
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.<Invoke>d__7.MoveNext()

-----------------------------------------

time:2017-10-25 17:31:47,363 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 4285.3077ms 500 text/html; charset=utf-8

-----------------------------------------

time:2017-10-25 17:31:47,386 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/favicon.ico  

-----------------------------------------

time:2017-10-25 17:31:47,404 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 10.5024ms 404 

-----------------------------------------

time:2017-10-25 17:32:09,788 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?username=111&password=111  

-----------------------------------------

time:2017-10-25 17:32:09,803 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.1606ms 404 

-----------------------------------------

time:2017-10-25 17:32:21,334 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?username=111&password=111&backUrl=111  

-----------------------------------------

time:2017-10-25 17:32:21,345 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 3.5907ms 404 

-----------------------------------------

time:2017-10-25 17:32:31,570 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?username=111&password=111&backUrl=111  

-----------------------------------------

time:2017-10-25 17:32:31,580 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.054ms 404 

-----------------------------------------

time:2017-10-25 17:32:35,930 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request starting HTTP/1.1 GET http://localhost:57942/passport/login?username=111&password=111&backUrl=111  

-----------------------------------------

time:2017-10-25 17:32:35,941 
level:INFO 
logger:Microsoft.AspNetCore.Hosting.Internal.WebHost
file:? line? 
content:Request finished in 2.1631ms 404 
